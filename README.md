[![DOI](https://zenodo.org/badge/265254045.svg)](https://zenodo.org/doi/10.5281/zenodo.10442485)

# Gupta-etal_2024_EarthsFuture

Rohini S. Gupta <sup>1\*</sup>, Scott Steinschneider<sup>1</sup>,  and Patrick M. Reed<sup>2</sup>

<sup>1 </sup> Department of Biological and Environmental Engineering, Cornell University, Ithaca, NY
<sup>2 </sup>  School of Civil and Environmental Engineering, Cornell University, Ithaca, NY

\* corresponding author:  rg727@cornell.edu

## Abstract
California faces cycles of drought and flooding that are projected to intensify, but these extremes may impact water users across the state differently due to the region’s natural hydroclimate variability and complex institutional framework governing water deliveries. To assess these risks, this study introduces a novel exploratory modeling framework informed by paleo- and climate-change based scenarios to better understand how impacts propagate through California’s complex water system. A stochastic weather generator, conditioned on tree-ring data, produces a large ensemble of daily weather sequences conditioned on drought and flood conditions under the Late Renaissance Megadrought period (1550-1580 CE). Regional climate changes are applied to this weather data and drive hydrologic projections for the Sacramento, San Joaquin, and Tulare Basins. The resulting streamflow ensembles are used in an exploratory stress test using the California Food-Energy-Water System model (CALFEWS), a highly resolved, daily model of water storage and conveyance throughout California. Results show that megadrought conditions lead to unprecedented reductions in inflows and storage at major California reservoirs. Both junior and senior water rights holders experience multi-year periods of curtailed water deliveries and complete drawdowns of groundwater assets. When megadrought dynamics are combined with climate change, risks for unprecedented depletion of reservoir storage and sustained curtailment of water deliveries across multiple years emerge. Asymmetries in risk emerge depending on water source, rights, and access to groundwater banks.  

## Journal reference
Gupta, R. S., Steinschneider, S., Reed, P.M. (In Review). Exploring Diverse Stakeholder Vulnerabilities in the California Water System under the Late Renaissance Megadrought and Climate Change. Earth's Future
## Code reference
References for each minted software release for all code involved.  

These are generated by Zenodo automatically when conducting a release when Zenodo has been linked to your GitHub repository. The Zenodo references are built by setting the author order in order of contribution to the code using the author's GitHub username.  This citation can, and likely should, be edited without altering the DOI.

If you have modified a codebase that is outside of a formal release, and the modifications are not planned on being merged back into a version, fork the parent repository and add a `.<shortname>` to the version number of the parent and construct your own name.  For example, `v1.2.5.hydro`.

_your software reference here_

## Data reference

### Input data
Reference for each minted data source for your input data.  For example:

Human, I.M. (2021). My input dataset name [Data set]. DataHub. https://doi.org/some-doi-number

_your input data references here_

### Output data
Reference for each minted data source for your output data.  For example:

Human, I.M. (2021). My output dataset name [Data set]. DataHub. https://doi.org/some-doi-number

_your output data references here_


## Contributing modeling software
| Model | Version | Repository Link | DOI |
|-------|---------|-----------------|-----|
| model 1 | version | link to code repository | link to DOI dataset |
| model 2 | version | link to code repository | link to DOI dataset |
| component 1 | version | link to code repository | link to DOI dataset |

## Reproduce my experiment
Fill in detailed info here or link to other documentation to thoroughly walkthrough how to use the contents of this repository to reproduce your experiment. Below is an example.


1. Install the software components required to conduct the experiment from [contributing modeling software](#contributing-modeling-software)
2. Download and install the supporting [input data](#input-data) required to conduct the experiment
3. Run the following scripts in the `workflow` directory to re-create this experiment:

| Script Name | Description | How to Run |
| --- | --- | --- |
| `step_one.py` | Script to run the first part of my experiment | `python3 step_one.py -f /path/to/inputdata/file_one.csv` |
| `step_two.py` | Script to run the second part of my experiment | `python3 step_two.py -o /path/to/my/outputdir` |

4. Download and unzip the [output data](#output-data) from my experiment 
5. Run the following scripts in the `workflow` directory to compare my outputs to those from the publication

| Script Name | Description | How to Run |
| --- | --- | --- |
| `compare.py` | Script to compare my outputs to the original | `python3 compare.py --orig /path/to/original/data.csv --new /path/to/new/data.csv` |

## Reproduce my figures
Use the scripts found in the `figures` directory to reproduce the figures used in this publication.

| Figure Number(s) | Script Name | Description | How to Run |
| --- | --- | --- | --- |
| 1, 2 | `generate_plot.py` | Description of figure, ie. "Plots the difference between our two scenarios" | `python3 generate_plot.py -input /path/to/inputs -output /path/to/outuptdir` |
| 3 | `generate_figure.py` | Description of figure, ie. "Shows how the mean and peak differences are calculated" | `python3 generate_figure.py -input /path/to/inputs -output /path/to/outuptdir` |

